block/RTC:
  items:
  - name: RTC_TR
    description: RTC_TR register.
    byte_offset: 0
    fieldset: RTC_TR
  - name: RTC_DR
    description: RTC_DR register.
    byte_offset: 4
    fieldset: RTC_DR
  - name: RTC_CR
    description: RTC_CR register.
    byte_offset: 8
    fieldset: RTC_CR
  - name: RTC_ISR
    description: RTC_ISR register.
    byte_offset: 12
    fieldset: RTC_ISR
  - name: RTC_PRER
    description: RTC_PRER register.
    byte_offset: 16
    fieldset: RTC_PRER
  - name: RTC_WUTR
    description: RTC_WUTR register.
    byte_offset: 20
    fieldset: RTC_WUTR
  - name: RTC_ALRMAR
    description: RTC_ALRMAR register.
    byte_offset: 28
    fieldset: RTC_ALRMAR
  - name: RTC_WPR
    description: RTC_WPR register.
    byte_offset: 36
    fieldset: RTC_WPR
  - name: RTC_SSR
    description: RTC_SSR register.
    byte_offset: 40
    access: Read
    fieldset: RTC_SSR
  - name: RTC_SHIFTR
    description: RTC_SHIFTR register.
    byte_offset: 44
    fieldset: RTC_SHIFTR
  - name: RTC_CALR
    description: RTC_CALR register.
    byte_offset: 60
    fieldset: RTC_CALR
  - name: RTC_ALRMASSR
    description: RTC_ALRMASSR register.
    byte_offset: 68
    fieldset: RTC_ALRMASSR
  - name: RTC_BKP0R
    description: RTC_BKP0R register.
    byte_offset: 80
    fieldset: RTC_BKP0R
  - name: RTC_BKP1R
    description: RTC_BKP1R register.
    byte_offset: 84
    fieldset: RTC_BKP1R
fieldset/RTC_ALRMAR:
  description: RTC_ALRMAR register.
  fields:
  - name: SU
    description: Second units in BCD format.
    bit_offset: 0
    bit_size: 4
  - name: ST
    description: Second tens in BCD format.
    bit_offset: 4
    bit_size: 3
  - name: MSK1
    description: 'Alarm A seconds mask 0: Alarm A set if the seconds match 1: Seconds don''t care in Alarm A comparison.'
    bit_offset: 7
    bit_size: 1
  - name: MNU
    description: Minute units in BCD format.
    bit_offset: 8
    bit_size: 4
  - name: MNT
    description: Minute tens in BCD format.
    bit_offset: 12
    bit_size: 3
  - name: MSK2
    description: 'Alarm A minutes mask 0: Alarm A set if the minutes match 1: Minutes don''t care in Alarm A comparison.'
    bit_offset: 15
    bit_size: 1
  - name: HU
    description: Hour units in BCD format.
    bit_offset: 16
    bit_size: 4
  - name: HT
    description: Hour tens in BCD format.
    bit_offset: 20
    bit_size: 2
  - name: PM
    description: 'AM/PM notation 0: AM or 24-hour format 1: PM.'
    bit_offset: 22
    bit_size: 1
  - name: MSK3
    description: 'Alarm A hours mask 0: Alarm A set if the hours match 1: Hours don''t care in Alarm A comparison.'
    bit_offset: 23
    bit_size: 1
  - name: DU
    description: Date units or day in BCD format.
    bit_offset: 24
    bit_size: 4
  - name: DT
    description: Date tens in BCD format.
    bit_offset: 28
    bit_size: 2
  - name: WDSEL
    description: 'Week day selection 0: DU[3:0] represents the date units 1: DU[3:0] represents the week day. DT[1:0] is don''t care.'
    bit_offset: 30
    bit_size: 1
  - name: MSK4
    description: 'Alarm A date mask 0: Alarm A set if the date/day match 1: Date/day don''t care in Alarm A comparison.'
    bit_offset: 31
    bit_size: 1
fieldset/RTC_ALRMASSR:
  description: RTC_ALRMASSR register.
  fields:
  - name: SS
    description: Sub seconds value This value is compared with the contents of the synchronous prescaler's counter to determine if Alarm A is to be activated. Only bits 0 up MASKSS-1 are compared.
    bit_offset: 0
    bit_size: 15
  - name: MASKSS
    description: 'Mask the most-significant bits starting at this bit 0: No comparison on sub seconds for Alarm A. The alarm is set when the seconds unit is incremented (assuming that the rest of the fields match). 1: SS[14:1] are don''t care in Alarm A comparison. Only SS[0] is compared. 2: SS[14:2] are don''t care in Alarm A comparison. Only SS[1:0] are compared. 3: SS[14:3] are don''t care in Alarm A comparison. Only SS[2:0] are compared. ... 12: SS[14:12] are don''t care in Alarm A comparison. SS[11:0] are compared. 13: SS[14:13] are don''t care in Alarm A comparison. SS[12:0] are compared. 14: SS[14] is don''t care in Alarm A comparison. SS[13:0] are compared. 15: All 15 SS bits are compared and must match to activate alarm. The overflow bits of the synchronous counter (bits 15) is never compared. This bit can be different from 0 only after a shift operation.'
    bit_offset: 24
    bit_size: 4
fieldset/RTC_BKP0R:
  description: RTC_BKP0R register.
  fields:
  - name: BKP
    description: The application can write or read data to and from these registers. They are powered-on by VDD12o so they are retained during DEEPSTOP mode. The application can write or read data to and from these registers. This register is reset on PORESETn only.
    bit_offset: 0
    bit_size: 32
fieldset/RTC_BKP1R:
  description: RTC_BKP1R register.
  fields:
  - name: BKP
    description: The application can write or read data to and from these registers. They are powered-on by VDD12o so they are retained during DEEPSTOP mode. The application can write or read data to and from these registers. This register is reset on PORESETn only.
    bit_offset: 0
    bit_size: 32
fieldset/RTC_CALR:
  description: RTC_CALR register.
  fields:
  - name: CALM
    description: Calibration minus The frequency of the calendar is reduced by masking CALM out of 220 RTCCLK pulses (32 seconds if the input frequency is 32768 Hz). This decreases the frequency of the calendar with a resolution of 0.9537 ppm. To increase the frequency of the calendar, this feature should be used in conjunction with CALP.
    bit_offset: 0
    bit_size: 9
  - name: CALW16
    description: 'Use a 16-second calibration cycle period When CALW16 is set to 1'' , the 16-second calibration cycle period is selected.This bit must not be set to 1'' if CALW8=1. Note: CALM[0] is stucked at 0'' when CALW16=''1''.'
    bit_offset: 13
    bit_size: 1
  - name: CALW8
    description: 'Use an 8-second calibration cycle period When CALW8 is set to 1'' , the 8-second calibration cycle period is selected. Note: CALM[1:0] are stucked at ''00'' when CALW8=''1''.'
    bit_offset: 14
    bit_size: 1
  - name: CALP
    description: 'Increase frequency of RTC by 488.5 ppm 0: No RTCCLK pulses are added. 1: One RTCCLK pulse is effectively inserted every 211 pulses (frequency incresed by 488.5 ppm). This feature is intended to be used in conjunction with CALM, which lowers the frequency of the calendar with a fine resolution. if the input frequency is 32768 Hz, the number of RTCCLK pulses added during a 32-second window is calculated as follows: (512 * CALP) - CALM.'
    bit_offset: 15
    bit_size: 1
fieldset/RTC_CR:
  description: RTC_CR register.
  fields:
  - name: WUCKSEL
    description: 'Wakeup clock selection 000: RTC/16 clock is selected 001: RTC/8 clock is selected 010: RTC/4 clock is selected 011: RTC/2 clock is selected 10x: ck_spre (usually 1 Hz) clock is selected 11x: ck_spre (usually 1 Hz) clock is selected and 216 is added to the WUT counter value.'
    bit_offset: 0
    bit_size: 3
  - name: BYPSHAD
    description: 'Bypass the shadow registers 0: Calendar values (when reading from RTC_SSR, RTC_TR, and RTC_DR) are taken from the shadow registers, which are updated once every two RTCCLK cycles. 1: Calendar values (when reading from RTC_SSR, RTC_TR, and RTC_DR) are taken directly from the calendar counters.'
    bit_offset: 5
    bit_size: 1
  - name: FMT
    description: Hour format.
    bit_offset: 6
    bit_size: 1
    enum: FMT
  - name: ALRAE
    description: 'Alarm A enable 0: Alarm A disabled 1: Alarm A enabled.'
    bit_offset: 8
    bit_size: 1
  - name: WUTE
    description: 'Wakeup timer enable 0: Wakeup timer disabled 1: Wakeup timer enabled.'
    bit_offset: 10
    bit_size: 1
  - name: ALRAIE
    description: 'Alarm A interrupt enable 0: Alarm A interrupt disabled 1: Alarm A interrupt enabled.'
    bit_offset: 12
    bit_size: 1
  - name: WUTIE
    description: 'Wakeup timer interrupt enable 0: Wakeup timer interrupt disabled 1: Wakeup timer interrupt enabled.'
    bit_offset: 14
    bit_size: 1
  - name: ADD1H
    description: 'Add 1 hour (summer time change) When this bit is set outside initialization mode, 1 hour is added to the calendar time. This bit is always read as 0. 0: No effect 1: Adds 1 hour to the current time. This can be used for summer time change.'
    bit_offset: 16
    bit_size: 1
  - name: SUB1H
    description: 'Subtract 1 hour (winter time change) When this bit is set outside initialization mode, 1 hour is subtracted to the calendar time if the current hour is not 0. This bit is always read as 0. Setting this bit has no effect when current hour is 0. 0: No effect 1: Subtracts 1 hour to the current time. This can be used for winter time change.'
    bit_offset: 17
    bit_size: 1
  - name: BKP
    description: Backup This bit can be written by the user to memorize whether the daylight saving time change has been performed or not.
    bit_offset: 18
    bit_size: 1
  - name: COSEL
    description: 'Calibration output selection When COE=1, this bit selects which signal is output on RTC_CALIB. 0: Calibration output is 512 Hz 1: Calibration output is 1 Hz These frequencies are valid for RTCCLK at 32.768 kHz and prescalers at their default values (PREDIV_A=127 and PREDIV_S=255).'
    bit_offset: 19
    bit_size: 1
  - name: POL
    description: 'Output polarity This bit is used to configure the polarity of RTC_ALARM output 0: The pin is high when ALRAF/WUTF is asserted (depending on OSEL[1:0]) 1: The pin is low when ALRAF/WUTF is asserted (depending on OSEL[1:0]).'
    bit_offset: 20
    bit_size: 1
  - name: OSEL
    description: 'Output selection These bits are used to select the flag to be routed to RTC_ALARM output 00: Output disabled 01: Alarm A output enabled 10: Reserved 11: Wakeup output enabled.'
    bit_offset: 21
    bit_size: 2
  - name: COE
    description: 'Calibration output enable This bit enables the RTC_CALIB output 0: Calibration output disabled 1: Calibration output enabled.'
    bit_offset: 23
    bit_size: 1
fieldset/RTC_DR:
  description: RTC_DR register.
  fields:
  - name: DU
    description: Date units in BCD format.
    bit_offset: 0
    bit_size: 4
  - name: DT
    description: Date tens in BCD format.
    bit_offset: 4
    bit_size: 2
  - name: MU
    description: Month units in BCD format.
    bit_offset: 8
    bit_size: 4
  - name: MT
    description: Month tens in BCD format.
    bit_offset: 12
    bit_size: 1
  - name: WDU
    description: 'Week day units 000: forbidden 001: Monday 010: Tuesday 011: Wednesday 100: Thursday 101: Friday 110: Saturday 111: Sunday.'
    bit_offset: 13
    bit_size: 3
  - name: YU
    description: Year units in BCD format.
    bit_offset: 16
    bit_size: 4
  - name: YT
    description: Year tens in BCD format.
    bit_offset: 20
    bit_size: 4
fieldset/RTC_ISR:
  description: RTC_ISR register.
  fields:
  - name: ALRAWF
    description: 'Alarm A write flag This bit is set by hardware when Alarm A values can be changed, after the ALRAE bit has been set to 0 in RTC_CR. It is cleared by hardware in initialization mode. 0: Alarm A update not allowed 1: Alarm A update allowed.'
    bit_offset: 0
    bit_size: 1
  - name: WUTWF
    description: 'Wakeup timer write flag This bit is set by hardware when the wakeup timer values can be changed, after the WUTE bit has been set to 0 in RTC_CR. 0: Wakeup timer configuration update not allowed 1: Wakeup timer configuration update allowed.'
    bit_offset: 2
    bit_size: 1
  - name: SHPF
    description: 'Shift operation pending 0: No shift operation is pending 1: A shift operation is pending This flag is set by hardware as soon as a shift operation is initiated by a write to the RTC_SHIFTR register. It is cleared by hardware when the corresponding shift operation has been executed. Writing to the SHPF bit has no effect.'
    bit_offset: 3
    bit_size: 1
  - name: INITS
    description: 'Initialization status flag This bit is set by hardware when the calendar year field is different from 0 (power-on reset state). 0: Calendar has not been initialized 1: Calendar has been initialized.'
    bit_offset: 4
    bit_size: 1
  - name: RSF
    description: 'Registers synchronization flag This bit is set by hardware each time the calendar registers are copied into the shadow registers (RTC_SSRx, RTC_TRx and RTC_DRx). This bit is cleared by hardware in initialization mode, while a shift operation is pending (SHPF=1), or when in bypass shadow regsiter mode (BYPSHAD=1). This bit can also be cleared by software. It is cleared either by software or by hardware in initialization mode. 0: Calendar shadow registers not yet synchronized 1: Calendar shadow registers synchronized.'
    bit_offset: 5
    bit_size: 1
  - name: INITF
    description: 'Initialization flag When this bit is set to 1, the RTC is in initialization state, and the time, date and prescaler registers can be updated. 0: Calendar registers update is not allowed 1: Calendar registers update is allowed.'
    bit_offset: 6
    bit_size: 1
  - name: INIT
    description: 'Initialization mode 0: Free running mode 1: Initialization mode used to program time and date register (RTC_TR and RTC_DR), and prescaler register (RTC_PRER). Counters are stopped and start counting from the new value when INIT is reset.'
    bit_offset: 7
    bit_size: 1
  - name: ALRAF
    description: Alarm A flag This flag is set by hardware when the time/date registers (RTC_TR and RTC_DR) match the Alarm A register (RTC_ALRMAR). This flag is cleared by software by writing 0.
    bit_offset: 8
    bit_size: 1
  - name: WUTF
    description: Wakeup timer flag This flag is set by hardware when the wakeup auto-reload counter reaches 0. This flag is cleared by software by writing 0. This flag must be cleared by software at least 1.5 RTCCLK periods before WUTF is set to 1 again.
    bit_offset: 10
    bit_size: 1
  - name: RECALPF
    description: Recalibration pending Flag The RECALPF status flag is automatically set to 1' when software writes to the RTC_CALR register, indicating that the RTC_CALR register is blocked. When the new calibration settings are taken into account, this bit returns to 0'.
    bit_offset: 16
    bit_size: 1
fieldset/RTC_PRER:
  description: RTC_PRER register.
  fields:
  - name: PREDIV_S
    description: 'Synchronous prescaler factor This is the synchronous division factor: ck_spre frequency = ck_apre frequency/(PREDIV_S+1).'
    bit_offset: 0
    bit_size: 15
  - name: PREDIV_A
    description: 'Asynchronous prescaler factor This is the asynchronous division factor: ck_apre frequency = RTCCLK frequency/(PREDIV_A+1).'
    bit_offset: 16
    bit_size: 7
fieldset/RTC_SHIFTR:
  description: RTC_SHIFTR register.
  fields:
  - name: SUBFS
    description: 'Subtract a fraction of a second These bits are write only and is always read as zero. Writing to this bit has no effect when a shift operation is pending (when SHPF=1, in RTC_ISR). The value which is written to SUBFS is added to the synchronous prescaler''s counter. Since this counter counts down, this operation effectively subtracts from (delays) the clock by: Delay (seconds) = SUBFS / ( PREDIV_S + 1 ) A fraction of a second can effectively be added to the clock (advancing the clock) when the ADD1S function is used in conjunction with SUBFS, effectively advancing the clock by : Advance (seconds) = ( 1 - ( SUBFS / ( PREDIV_S + 1 ) ) ).'
    bit_offset: 0
    bit_size: 15
  - name: ADD1S
    description: 'Add one second 0: No effect 1: Add one second to the clock/calendar This bit is write only and is always read as zero. Writing to this bit has no effect when a shift operation is pending (when SHPF=1, in RTC_ISR). This function is intended to be used with SUBFS (see description below) in order to effectively add a fraction of a second to the clock in an atomic operation.'
    bit_offset: 31
    bit_size: 1
fieldset/RTC_SSR:
  description: RTC_SSR register.
  fields:
  - name: SS
    description: 'Sub second value SS[15:0] is the value in the synchronous prescaler''s counter. The fraction of a second is given by the formula below: Second fraction = ( PREDIV_S - SS ) / ( PREDIV_S + 1 ).'
    bit_offset: 0
    bit_size: 16
fieldset/RTC_TR:
  description: RTC_TR register.
  fields:
  - name: SU
    description: Second units in BCD format.
    bit_offset: 0
    bit_size: 4
  - name: ST
    description: Second tens in BCD format.
    bit_offset: 4
    bit_size: 3
  - name: MNU
    description: Minute units in BCD format.
    bit_offset: 8
    bit_size: 4
  - name: MNT
    description: Minute tens in BCD format.
    bit_offset: 12
    bit_size: 3
  - name: HU
    description: Hour units in BCD format.
    bit_offset: 16
    bit_size: 4
  - name: HT
    description: Hour tens in BCD format.
    bit_offset: 20
    bit_size: 2
  - name: PM
    description: 'AM/PM notation. 0: AM or 24-hour format 1: PM.'
    bit_offset: 22
    bit_size: 1
fieldset/RTC_WPR:
  description: RTC_WPR register.
  fields:
  - name: KEY
    description: Write protection key This byte is written by software. Reading this byte always returns 0x00.
    bit_offset: 0
    bit_size: 8
fieldset/RTC_WUTR:
  description: RTC_WUTR register.
  fields:
  - name: WUT
    description: Wakeup auto-reload value bits When the wakeup timer is enabled (WUTE set to 1), the WUTF flag is set every (WUT[15:0] + 1) ck_wut cycles. The ck_wut period is selected through WUCKSEL[2:0] bits of the RTC_CR register When WUCKSEL[2] = 1, the wakeup timer becomes 17-bits and WUCKSEL[1] effectively becomes WUT[16] the most-significant bit to be reloaded into the timer. The first assertion of WUTF occurs (WUT+1) ck_wut cycles after WUTE is set. Setting WUT[15:0] to 0x0000 with WUCKSEL[2:0] =011 (RTCCLK/2) is forbidden.
    bit_offset: 0
    bit_size: 16
enum/FMT:
  bit_size: 1
  variants:
  - name: B_0x0
    description: 24 hour/day format.
    value: 0
  - name: B_0x1
    description: AM/PM hour format.
    value: 1
